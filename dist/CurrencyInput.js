!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"));else if("function"==typeof define&&define.amd)define(["react"],t);else{var n="object"==typeof exports?t(require("react")):t(e.React);for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(window,function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};t.separateNumber=function(e,t){for(var n=e.length,r=0,i="",u=[];n>r;){var s=n-1-r,a=r>0&&r%3==0?t:"";a&&u.push({symbol:a,index:r+1+u.length}),i=e[s]+a+i,r++}return u=u.map(function(e){return o({},e,{index:i.length-e.index})}),{value:i,pastedSymbols:u}}},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=n(0);var i,u=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={value:"",pastedSymbols:null},t.changeCurrentPosition=function(e){console.log(e),t.focusPosition=t.focusPosition?t.focusPosition+e:null},t.removeDelimiter=function(e){var n=e.value,o=e.selectionStart,r=t.state.pastedSymbols;if(!r)return n;var i=n;return r.find(function(e){var t=e.index;return o===t})&&8===t.keyPress&&(i=n.slice(0,o-1)+n.slice(o)),i},t.getPrevFocusPosition=function(){return t.focusPosition+(8===t.keyPress?1:-1)},t.recountFocus=function(e){var n=t.state.pastedSymbols;if(e&&n&&e.length!==n.length){var o=e.filter(function(e){return e.index+1<=t.focusPosition}).length,r=n.filter(function(e){return e.index+1<=t.getPrevFocusPosition()}).length;console.log("next - prev",e,n,t.focusPosition),t.changeCurrentPosition(o-r)}},t.clearValue=function(e,t){for(var n="",o=0;e.length>o;o++)n+=e[o]===t?"":e[o];return n},t.handleChange=function(e){var n=e.target,o=t.props,i=o.delimiter,u=o.onChange,s=t.removeDelimiter(n),a=t.clearValue(s.toString(),i),c=(0,r.separateNumber)(a,i),l=c.value,f=c.pastedSymbols;t.focusPosition=n.selectionStart,t.recountFocus(f),t.setState({value:l,pastedSymbols:f},function(){n.selectionStart=t.focusPosition,n.selectionEnd=t.focusPosition,u(l)})},t.handleKeyDown=function(e){t.keyPress=e.keyCode},t}return u(t,e),t.prototype.render=function(){var e=this.state.value;return o.createElement("div",null,o.createElement("input",{value:e,onKeyDown:this.handleKeyDown,onChange:this.handleChange}))},t.defaultProps={delimiter:" "},t}(o.Component);t.default=s}])});